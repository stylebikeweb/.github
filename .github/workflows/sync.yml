name: çµ„ç¹”å†…ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«åŒæœŸã‚·ã‚¹ãƒ†ãƒ ğŸ”„

on:
  # ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°æ™‚ã«å®Ÿè¡Œ
  push:
    paths:
      - '.github/workflows/use-todo-to-issue-workflow.yml'
  
  # æ‰‹å‹•å®Ÿè¡Œã‚‚ã§ãã‚‹ã‚ˆã†ã«
  workflow_dispatch:

jobs:
  sync-files:
    runs-on: ubuntu-latest
    name: ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«åŒæœŸå‡¦ç†
    steps:
      - name: ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ
        uses: actions/checkout@main
        with:
          fetch-depth: 0

      - name: ãƒ•ã‚¡ã‚¤ãƒ«åŒæœŸã‚¢ã‚¯ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
        uses: BetaHuhn/repo-file-sync-action@v1
        with:
          GH_PAT: ${{ secrets.FILE_SYNC_TOKEN }}
          CONFIG_PATH: .github/sync-config.yml
          COMMIT_BODY: |
            ğŸ”„ TODOãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã®è‡ªå‹•åŒæœŸã ã‚ˆï½âœ¨
            
            **ã‚½ãƒ¼ã‚¹ãƒªãƒã‚¸ãƒˆãƒª**: `${{ github.repository }}`
            
            ## å¤‰æ›´å†…å®¹
            - `.github/workflows/use-todo-to-issue-workflow.yml` ã‚’æœ€æ–°ç‰ˆã«æ›´æ–°
            
            ## ç¢ºèªã—ã¦ã»ã—ã„ã“ã¨
            - ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ã£ã¦ã„ã‚‹ä»–ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«å½±éŸ¿ãªã„ã‹ç¢ºèªã—ã¦ã­
            
            è‡ªå‹•ç”Ÿæˆã•ã‚ŒãŸPRã ã‹ã‚‰ã€ç¢ºèªã—ã¦ã‹ã‚‰ãƒãƒ¼ã‚¸ã—ã¦ã­ï½
          COMMIT_PREFIX: "ğŸ”„ TODOãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æ›´æ–°"
          GIT_EMAIL: "41898282+github-actions[bot]@users.noreply.github.com"
          GIT_USERNAME: "github-actions[bot]"
          SKIP_PR: false
          PR_LABELS: "automation,maintenance"
          BRANCH_PREFIX: "sync-"